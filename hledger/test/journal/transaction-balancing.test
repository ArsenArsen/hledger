# Test cases for balanced-transaction checking, cf #1479

<
commodity $0.00

2021-01-01 move a lot elsewhere, adjusting cost basis due to fees
    assets:investments1            A -11.0 @ B 0.093735
    expenses:fees                  A   0.6
    equity:basis adjustment        A  -0.6
    assets:investments2            A  10.4 @ B 0.099143

# 1, 2. succeeds with old "styled" and new "exact" balanced checking
$ hledger -f- check --balancing=styled
$ hledger -f- check

<
commodity $0.00

2021-01-01
    a    A -11.0 @ B 0.093735
    b     A 10.4 @ B 0.099143

# 3, 4. succeeds with old and new balanced checking
$ hledger -f- check --balancing=styled
$ hledger -f- check

<
commodity B0.00

2021-01-01
    a      A -9514.405544 @ B 0.104314
    b       A 9513.805544 @ B 0.1043206

# 5, 6. succeeds and fails with old and new balanced checking
$ hledger -f- check --balancing=styled
$ hledger -f- check
>2 //
>= 1

# <
# 2021-01-01
#    a  1C @ $1.0049
#    b  $-1.000
